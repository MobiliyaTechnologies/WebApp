
    <link rel="stylesheet" type="text/css" href="./app/css/map.css" />
    <script type='text/javascript' src='http://www.bing.com/api/maps/mapcontrol?branch=release&callback=loadMapScenario' async defer></script>
    <link href="./bower_components/kendo-ui/styles/kendo.common-material.min.css" rel="stylesheet" />
    <link href="./bower_components/kendo-ui/styles/kendo.material.min.css" rel="stylesheet" />
    <link href="./bower_components/kendo-ui/styles/kendo.material.mobile.min.css" rel="stylesheet" />
    <script>
        $(function () {
            //setIFrameSize();
            $(window).resize(function () {

                clearTimeout(resizeTimeout);
                var resizeTimeout = setTimeout(function () {
                    angular.element(document.getElementById('iFrameEmbedTile')).scope().setIFrameSize();
                }, 500);
            });
        });
        function loadMapScenario() {
            console.log("loaded");

            angular.element(document.getElementById('myMap1')).scope().loadMapScenario();

        }
   // loadMapScenario();
    </script>
     <div style="color:white;">
       
         <a ui-sref="reports" class="pull-right btn btn-primary btn-outline" style="color:white;">Reports</a>
         <a href="https://mseastus.blob.core.windows.net/general/PowerMap_Dec_27_2016.xlsx" style="color:white;float:right;margin-top:5px;margin-right:10px;">Download power map report</a>
        <h4 class="header-text">DASHBOARD<!--<small>Why is Ani Theme so awesome?</small>--></h4>



        <div class="jumbotron">
            <div class="container">
                <div class="ui-widget">
                    
                        <div class="row">
                            <div class="demo-section k-content" style="position: absolute;z-index:2;margin-left:10px;margin-top:10px;">
                                <input  class="col-sm-3" kendo-auto-complete k-on-select="meterSelection(kendoEvent)" ng-model="country" k-options="options" k-placeholder= "'Search Meter..'" class="k-textbox k-space-right" />
                                <!--<span class="k-icon k-i-search"></span>-->
                            </div> 
                             
                                <div class="dash-unit col-sm-12" style="height:82vh;padding:0;">
                                    <div id='myMap1'>
                                    </div>
                                </div>
                            
                        </div>
                    
                </div>
               </div>
        </div>
         
         <h4 class="header-text">MONTHLY CONSUMPTION REPORT</h4>
         <div class="jumbotron">
             <div class="container">
                 <div class="ui-widget">
                     <div class="row">
                         <div class="col-sm-12">
                             <!--<hc-chart id="bargraph" options="barChartOptions" class="col-sm-12" style="height:80vh;">Placeholder for generic chart</hc-chart>-->
                             <div class="k-content">
                                 <div ng-if="YearlyConsumption.loading" class="loader"></div>
                             </div>
                             <!--<select class="k-content" ng-change="changeYear()" ng-model="selectedYear" ng-options="x for x in years" style="float:right;width: 10%;">                                 
                             </select>-->                            
                            <highchart ng-if="YearlyConsumption" config="YearlyConsumption" class="col-sm-12" style="height:80vh;"></highchart>
                        </div>
                         <span class="glyphicon glyphicon-circle-arrow-left gi-3x" ng-click="moveMonthBackward()"></span>
                         <span class="glyphicon glyphicon-circle-arrow-right pull-right gi-3x" ng-click="moveMonthForward()"></span>
                    </div>
                     
                 </div>
             </div>
         </div>

         <h4 class="header-text">WEEKLY CONSUMPTION REPORT</h4>
         <div class="jumbotron">
             <div class="container">
                 <div class="ui-widget">
                     <div class="row">
                         <div class="col-sm-12">
                             <!--<hc-chart id="bargraph" options="barChartOptions" class="col-sm-12" style="height:80vh;">Placeholder for generic chart</hc-chart>-->
                             <div class="k-content">
                                 <div ng-if="WeeklyConsumption.loading" class="loader"></div>
                             </div>
                             <!--<select class="k-content" ng-change="changeMonth()" ng-model="selectedMonth" ng-options="x for x in months" style="float:right;width: 10%;"></select>-->

                             <highchart ng-if="WeeklyConsumption" config="WeeklyConsumption" class="col-sm-12" style="height:80vh;"></highchart>
                         </div>
                         <span class="glyphicon glyphicon-circle-arrow-left gi-3x" ng-click="moveWeekBackward()"></span>
                         <span class="glyphicon glyphicon-circle-arrow-right pull-right gi-3x" ng-click="moveWeekForward()"></span>
                     </div>
                 </div>
             </div>
         </div>


         <h4 class="header-text">MONTHLY REPORTS</h4>
         <div class="jumbotron">
             <div class="container">
                 <div class="ui-widget">
                     <div class="row">
                         <div class="col-sm-12">
                             <highchart ng-if="currentMonth" config="currentMonth" class="col-sm-12" style="height:80vh;"></highchart>
                         </div>
                         <!--<div class="col-sm-6">
                             <hc-chart id="linechart" options="nextMonth">Placeholder for generic chart</hc-chart>
                         </div>-->
                     </div>
                 </div>
             </div>
         </div>
         <h4 class="header-text">PREDICTIONS REPORTS</h4>
         <div class="jumbotron">
             <div class="container">
                 <div class="ui-widget">
                     <div class="row">
                         <div class="col-sm-6">
                             <highchart ng-if="currentMonthPrediction" config="currentMonthPrediction" class="col-sm-12" style="height:80vh;"></highchart>
                         </div>
                         <div class="col-sm-6">
                             <highchart ng-if="nextMonthPrediction" config="nextMonthPrediction" class="col-sm-12" style="height:80vh;"></highchart>
                         </div>
                     </div>
                 </div>
             </div>
         </div>

        
         <h4  class="header-text">ALL REPORTS</h4>
         <div class="jumbotron" >
             <div class="container">
                 <div class="ui-widget">
                         <div class="row">
                             <div class="col-sm-12">

                                 <div class="col-sm-6 col-sm-6">
                                     <div class="dash-unit col-sm-11 col-sm-11" style="height:350px;">
                                         <iframe id="iFrameEmbedTile" src="" class="iframe-class-overview-page" src="" scrolling="no" frameborder="0" seamless></iframe>
                                         <div id="meterName" style="display:none;">
                                             <h3 style="overflow-wrap: normal;line-height: 16px;">Metername :  <small>{{selectedMeterName}}</small></h3>
                                             <h3 style="overflow-wrap: normal;line-height: 16px;">
                                                 Monthly Consumption :  <small>{{selectedMontlyConsumption}}</small></h3style="overflow-wrap:>
                                                 <h3 style="overflow-wrap: normal;line-height: 16px;">Cost :  <small>{{selectCost}}</small></h3>
                                         </div>
                                     </div>
                                 </div>
                                 <div class="col-sm-6 col-sm-6">
                                     <div class="dash-unit  col-sm-11 col-sm-11" style="height:350px;">
                                         <iframe id="weatherIFrame" src="" class="iframe-class-overview-page" frameborder="0" seamless></iframe>
                                     </div>
                                 </div>

                             </div>
                         </div>      
                 </div>
             </div>
         </div>
         <h4  class="header-text" >METER REPORT&nbsp;{{MeterName}}</h4>
         <div class="jumbotron" >
             <div class="container">
                 <div class="ui-widget">
                     <div id="example" ng-app="KendoDemos">
                         <div class="row">
                             <div id="report" class="dash-unit col-sm-12" style="height:100%;padding:0;">
                                 <iframe id="reportIframe" src="" class="iframe-class-report-page" frameborder="1" seamless></iframe>
                             </div>
                             <div id="reportscroll">

                             </div>
                         </div>
                     </div>
                 </div>
             </div>
         </div>

         <h4 class="header-text">METER REPORT&nbsp;{{MeterName}}</h4>
         <div class="jumbotron">
             <div class="container">
                 <div class="ui-widget">                     
                         <div class="row">
                             <div class="col-sm-12">
                                 <img src="../../Assets/Basement-1.jpg" alt="Mountain View" style="width:100%;height:100%;">
                             </div>
                         </div>
                 </div>
             </div>
         </div>
    </div>
    
    